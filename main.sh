## obtain the BED file of human coding genes (to read more about BED format: https://genome.ucsc.edu/FAQ/FAQformat#format1)
# 1) download the file from Ulitsky lab website (http://www.weizmann.ac.il/Biological_Regulation/IgorUlitsky/pipeline-lncrna-annotation-rna-seq-data-plar)
wget ftp://ftp-igor.weizmann.ac.il/pub/CLAP/data/hg19.coding.bed.gz
# 2) uncompress the gz file
gunzip hg19.coding.bed.gz 
# 3) creat a smaller BED file for chromosomes 17,18,and 19
grep "^chr1[7-9]" hg19.coding.bed > hg19.coding_subset.bed
# 4) delete the big BED file
rm hg19.coding.bed


## Task1: Print few lines of the file hg19.coding.bed to the screen to check the format of the file


## Task2: sort the bed file by exon no in ascending order. Name the new file "hg19.coding_subset.sorted.bed" 


## Task3: extract transcripts with 3 exons from the sorted file from task2. Name the new file "hg19.coding_subset.3exon.sorted.bed" 


Anna@LAPTOP-3FUJCEAP MINGW64 ~
$ git clone https://github.com/ADahlgren/trainging-by-practice.git
Cloning into 'trainging-by-practice'...
remote: Repository not found.
fatal: repository 'https://github.com/ADahlgren/trainging-by-practice.git/' not found

Anna@LAPTOP-3FUJCEAP MINGW64 ~
$ git clone https://github.com/ADahlgren/training-by-practice.git
Cloning into 'training-by-practice'...
remote: Counting objects: 36, done.
remote: Compressing objects: 100% (27/27), done.
remote: Total 36 (delta 9), reused 33 (delta 6), pack-reused 0
Unpacking objects: 100% (36/36), done.

Anna@LAPTOP-3FUJCEAP MINGW64 ~
$ cd training-by-practice

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (master)
$ git remote add DIB https://ADahlgren@github.com/dib-lab/training-by-practice.git

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (master)
$ git checkout -b template1 origin/template1
Branch template1 set up to track remote branch template1 from origin.
Switched to a new branch 'template1'

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ head -n 3 hg19.coding_subset.bed
chr17   11      54159   EnsCodingFragment|3P|XLOC_029340|CUFF.41270.1|TCONS_00121374:0.194204       1000    -       11      54159   0,0,250 10      1531,128,158,127,110,75,80,162,1493,2768,   0,2729,5999,11194,11860,13909,22316,36875,49804,51380,
chr17   2741    31427   EnsCodingFull|3P|XLOC_029340|CUFF.41270.2|TCONS_00121375:6.92016    1000    -       2741    31427   0,0,250 7       127,158,127,110,75,80,530, 0,3269,8464,9130,11179,19586,28156,
chr17   5809    31427   EnsCodingFull|3P|XLOC_029340|ENST00000343572|TCONS_00121376:1.29744 1000    -       5809    31427   0,0,250 6       359,127,110,75,80,530,  0,5396,6062,8111,16518,25088,

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ sort -n -k 10.1,10.4 hg19.coding_subset.bed > hg19.coding_subset.sorted.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ head -n 10 hg19.coding_subset.sorted.bed
chr17   17091981        17095962        EnsCodingFragment|3P|XLOC_028566|ENST00000567268|TCONS_00116348:6.8096      1000    +       17091981        17095962        250,0,0     1       3981,   0,
chr17   3710041 3712148 EnsCodingFragment|3P|XLOC_029389|ENST00000571336|TCONS_00121879:5.10926     1000    -       3710041 3712148 0,0,250 1       2107,   0,
chr17   37913973        37920089        EnsCodingFragment|3P|XLOC_029819|ENST00000488188|TCONS_00124648:13.9397     1000    -       37913973        37920089        0,0,250     1       6116,   0,
chr17   43224683        43229468        EnsCodingFull|3P|XLOC_028925|ENST00000332499|TCONS_00118397:20.8206 1000    +       43224683        43229468        250,0,0 1  4785,    0,
chr17   43922255        43924438        EnsCodingFull|3P|XLOC_028934|ENST00000329196|TCONS_00118444:14.0375 1000    +       43922255        43924438        250,0,0 1  2183,    0,
chr17   51900238        51902573        EnsCodingFull|3P|XLOC_029034|ENST00000268919|TCONS_00119275:60.1068 1000    +       51900238        51902573        250,0,0 1  2335,    0,
chr17   647862  652591  EnsCodingFull|3P|XLOC_029346|ENST00000576778|TCONS_00121454:14.3019 1000    -       647862  652591  0,0,250 1       4729,   0,
chr17   7255207 7258258 EnsCodingFull|3P|XLOC_028460|ENST00000333751|TCONS_00115609:29.2745 1000    +       7255207 7258258 250,0,0 1       3051,   0,
chr17   8294021 8296807 EnsCodingFull|3P|XLOC_029483|ENST00000344001|TCONS_00122651:5.46916 1000    -       8294021 8296807 0,0,250 1       2786,   0,
chr17   8700435 8702667 EnsCodingFull|3P|XLOC_029488|ENST00000329805|TCONS_00122676:14.8638 1000    -       8700435 8702667 0,0,250 1       2232,   0,

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ tail -n 10 hg19.coding_subset.sorted.bed
chr17   7623038 7737058 EnsCodingFull|3P|XLOC_028476|ENST00000389173|TCONS_00115796:06,130,183,215,147,157,240,189,148,193,201,157,175,164,162,104,157,83,181,139,218,10150,168,161,140,133,140,211,117,142,170,117,165,126,149,67,151,149,134,145,200,127,120012,20699,21089,23207,37370,38774,39164,39701,40070,41019,44110,44396,45670,46597,6,60909,61321,66403,66849,67176,68139,68365,72196,72531,72936,73260,74533,76743,7745840,98069,98225,98591,98922,99198,99488,101522,103721,104113,104400,104816,110579,11
chr17   7620671 7737062 EnsCodingFull|3P|XLOC_028476|CUFF.42157.2|TCONS_00115788:0.392,158,88,206,130,183,215,147,157,240,189,148,193,201,157,175,164,162,104,157,83,181189,86,131,150,168,161,140,133,140,211,142,170,117,165,126,149,67,151,149,134,145,20,17116,19713,20609,21573,22379,23066,23456,25574,39737,41141,41531,42068,42437,4338692,60723,60926,61889,62803,63276,63688,68770,69216,69543,70506,70732,74563,74898,7530116,99217,99936,100207,100436,100592,100958,101289,101565,101855,103889,106088,1064
chr17   7620596 7737062 EnsCodingFull|3P|XLOC_028476|CUFF.42157.1|TCONS_00115785:0.439,192,158,88,206,130,183,215,147,157,240,189,148,193,201,157,175,164,162,104,157,83105,189,86,131,150,168,161,140,133,140,211,117,142,170,117,165,126,149,67,151,268,133,15808,16904,17191,19788,20684,21648,22454,23141,23531,25649,39812,41216,41606,4214745,59500,60167,60798,61001,61964,62878,63351,63763,68845,69291,69618,70581,70807,7487679,87973,89871,90191,99292,100011,100282,100511,100667,100914,101364,101640,101936100,
chr19   38924339        39078234        EnsCodingFull|3P|XLOC_033968|CUFF.51798.3|TC75,120,105,75,79,113,94,94,75,122,196,136,96,119,134,242,193,217,105,104,84,308,203,,141,164,79,90,141,75,76,124,116,68,122,61,239,82,131,333,241,88,93,171,60,138,113,9,135,157,65,101,52,270, 0,7045,8649,9858,10018,10449,10884,12772,12994,18064,19119,2,41618,44010,49327,49590,51890,55477,56376,56921,58790,60652,62515,62709,63160,6540812,76798,76960,78372,78545,81326,82387,83659,85514,89328,89517,91632,93293,93947,9461,112745,114533,127413,131259,133211,134073,136907,138319,139477,142219,144218,14444
chr19   38924339        39078234        EnsCodingFull|3P|XLOC_033968|CUFF.51798.10|T75,120,105,75,79,113,94,94,75,157,165,122,196,136,96,119,134,242,193,217,105,104,84,1,170,221,91,141,164,79,90,141,75,76,124,116,68,122,61,239,82,131,333,241,88,93,171,31,61,147,135,157,65,101,52,270,        0,7045,8649,9858,10018,10449,10884,12772,1292391,33910,35266,35605,39677,41618,44010,44735,49327,49590,51890,55477,56376,56921,5,71609,72106,72603,72771,73129,74012,76798,76960,78372,78545,81326,82387,83659,85514,104177,109647,109832,110071,112745,114533,127413,131259,133211,134073,136907,138319
chr19   38924339        39078234        EnsCodingFull|3P|XLOC_033968|CUFF.51798.7|TC75,120,105,75,79,113,94,94,75,157,165,122,196,136,96,119,134,242,193,217,105,104,84,1,170,221,91,141,164,79,90,141,75,76,124,116,68,122,50,61,239,82,131,333,241,88,93,131,61,147,135,157,65,101,52,270,        0,7045,8649,9858,10018,10449,10884,12772,1292391,33910,35266,35605,39677,41618,44010,44735,49327,49590,51890,55477,56376,56921,5,71609,72106,72603,72771,73129,74012,76798,76960,77861,78372,78545,81326,82387,83659102297,104177,109647,109832,110071,112745,114533,127413,131259,133211,134073,138319,
chr19   38924339        39078234        EnsCodingFull|3P|XLOC_033968|CUFF.51798.11|T75,120,105,75,79,113,94,94,75,157,165,122,196,136,96,119,134,242,193,217,105,104,84,1,170,221,91,141,164,79,90,141,75,76,124,116,68,122,61,239,82,131,333,241,88,93,15,23,131,61,147,135,157,65,101,52,270,     0,7045,8649,9858,10018,10449,10884,12772,1292391,33910,35266,35605,39677,41618,44010,44735,49327,49590,51890,55477,56376,56921,5,71609,72106,72603,72771,73129,74012,76798,76960,78372,78545,81326,82387,83659,85514102297,104180,109647,109832,110071,112745,114533,127413,131259,133211,134073,136907,
chr19   38924339        39078234        EnsCodingFull|3P|XLOC_033968|CUFF.51798.12|T75,120,105,75,79,113,94,94,75,157,165,122,196,136,96,119,134,242,193,217,105,104,84,1,170,221,91,141,164,79,90,141,75,76,124,116,68,122,61,239,82,131,333,241,88,93,171,3,131,61,147,135,157,65,101,52,270,     0,7045,8649,9858,10018,10449,10884,12772,1292391,33910,35266,35605,39677,41618,44010,44735,49327,49590,51890,55477,56376,56921,5,71609,72106,72603,72771,73129,74012,76798,76960,78372,78545,81326,82387,83659,85514,103050,104180,109647,109832,110071,112745,114533,127413,131259,133211,134073,136907
chr19   38924339        39078234        EnsCodingFull|3P|XLOC_033968|CUFF.51798.2|TC75,120,105,75,79,113,94,94,75,157,165,122,196,136,96,119,134,242,193,217,105,104,84,1,170,221,91,141,164,79,90,141,75,76,124,116,68,122,50,61,239,82,131,333,241,88,93,13,131,61,147,135,157,65,101,52,270,     0,7045,8649,9858,10018,10449,10884,12772,1292391,33910,35266,35605,39677,41618,44010,44735,49327,49590,51890,55477,56376,56921,5,71609,72106,72603,72771,73129,74012,76798,76960,77861,78372,78545,81326,82387,83659102297,103050,104180,109647,109832,110071,112745,114533,127413,131259,133211,134073,
chr19   38924339        39078204        EnsCodingFull|3P|XLOC_033968|ENST0000035548175,120,105,75,79,113,94,94,75,157,165,122,196,136,96,119,134,242,193,217,105,104,84,1,170,221,91,141,164,79,90,141,75,76,124,116,68,122,50,61,239,82,131,333,241,88,93,11,43,131,61,147,135,157,65,101,52,240,  0,7045,8649,9858,10018,10449,10884,12772,1292391,33910,35266,35605,39677,41618,44010,44735,49327,49590,51890,55477,56376,56921,5,71609,72106,72603,72771,73129,74012,76798,76960,77861,78372,78545,81326,82387,83659102297,103050,104180,109647,109832,110071,112745,114533,127413,131259,133211,134073,25,

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ awk '$10<=2' hg19.coding_subset.sorted.bed > hg19.coding_subset.sorted1_2.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ wc -l hg19.coding_subset.sorted1_2.bed
1276 hg19.coding_subset.sorted1_2.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ awk '$10==3' hg19.coding_subset.sorted.bed > hg19.coding_subset.sorted3.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ wc -l hg19.coding_subset.sorted3.bed
1685 hg19.coding_subset.sorted3.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ awk '$10<=3' hg19.coding_subset.sorted.bed > hg19.coding_subset.sorted1_3.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ wc -l hg19.coding_subset.sorted1_3.bed
2961 hg19.coding_subset.sorted1_3.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ sed '1277,2961d' hg19.coding_subset.sorted.bed > hg19.coding_subset.3exon.sorted.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ awk '$10==3' hg19.coding_subset.3exon.sorted.bed

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ git add main.sh

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ git commit -m problems_1_3
On branch template1
Your branch is up-to-date with 'origin/template1'.
Untracked files:
        hg19.coding_subset.3exon.sorted.bed
        hg19.coding_subset.sorted.bed
        hg19.coding_subset.sorted1_2.bed
        hg19.coding_subset.sorted1_3.bed
        hg19.coding_subset.sorted3.bed

nothing added to commit but untracked files present

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ git push origin template1
Everything up-to-date

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ git checkout template1
Already on 'template1'
Your branch is up-to-date with 'origin/template1'.

Anna@LAPTOP-3FUJCEAP MINGW64 ~/training-by-practice (template1)
$ git pull origin template1
From https://github.com/ADahlgren/training-by-practice
 * branch            template1  -> FETCH_HEAD
Already up-to-date.
